"use strict";

const gpio = require("../gpio");

const SENSOR_PIN = 21;
const SENSOR_ID = "28-020198430BF2";

console.log("*** one sensor example sync***");
console.log("sensors are connected to pin", SENSOR_PIN);

// init pins 
gpio.init_gpio(SENSOR_PIN, gpio.GPIO_MODE_SENSOR, 0);

if (!gpio.init_sensor(SENSOR_PIN, gpio.RES_SENSOR_11))
    console.log("init: error or no sensors connected");
else if (!gpio.scan_sensor_sync(SENSOR_PIN))
    console.log("scan: error or no sensors connected");
else {
    var sensor_data = gpio.read_one_sensor_sync(SENSOR_PIN, SENSOR_ID, false);

    if (sensor_data !== undefined)
            console.log(SENSOR_ID, sensor_data, "Â°C");
    else
        console.log("read one: error or no sensors connected");
}
